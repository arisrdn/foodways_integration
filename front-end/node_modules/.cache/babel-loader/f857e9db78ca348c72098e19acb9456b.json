{"ast":null,"code":"var _jsxFileName = \"/Users/aris/ABC/DU/code/integrasi/front-end/src/compnents/Menu.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Nav, NavDropdown } from \"react-bootstrap\";\nimport { API } from \"../config/api\";\nimport { useQuery } from \"react-query\";\nimport { AuthContext } from \"../contexts/authContext\";\nimport { KeranjangContext } from \"../contexts/keranjangContext\";\nimport keranjang from \"./assets/img/keranjang.svg\";\nimport user from \"./assets/img/user.svg\";\nimport product from \"./assets/img/product.svg\";\nimport logout from \"./assets/img/logout.svg\";\nimport Restauranmenu from \"./assets/Restauranlogo\";\nimport Re from \"./assets/shop.svg\";\nimport Re2 from \"./assets/shop-2.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Menu = () => {\n  _s();\n\n  const [state, dispatch] = useContext(AuthContext);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !state.isLogin ? /*#__PURE__*/_jsxDEV(LoginRegister, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(User, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 49\n    }, this)\n  }, void 0, false);\n};\n\n_s(Menu, \"R/iqDjZuP7G94n7Hryyh+IyzlJk=\");\n\n_c = Menu;\nexport default Menu;\nexport const LoginRegister = () => {\n  _s2();\n\n  const [state, dispatch] = useContext(AuthContext);\n\n  const handleOpenLogin = () => {\n    dispatch({\n      type: \"MODAL_LOGIN_OPEN\"\n    });\n  };\n\n  const handleOpenRegister = () => {\n    dispatch({\n      type: \"MODAL_REGISTER_OPEN\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Nav, {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-link\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-brown btn-nav btn-sm\",\n          onClick: handleOpenLogin,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-link\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-brown btn-nav btn-sm\",\n          onClick: handleOpenRegister,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(LoginRegister, \"R/iqDjZuP7G94n7Hryyh+IyzlJk=\");\n\n_c2 = LoginRegister;\nexport const User = () => {\n  _s3();\n\n  const [state, dispatch] = useContext(AuthContext);\n  const {\n    data: userData,\n    error: userError,\n    loading: userLoading,\n    refetch: userRefetch\n  } = useQuery(\"userCache\", async () => {\n    return API.get(\"/user\");\n  });\n  console.log(\"data\", userData);\n\n  const logoutUser = () => {\n    // console.log(\"lll\", state);\n    dispatch({\n      type: \"LOGOUT\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderRight: \"1px solid #433434\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(NavDropdown // eventKey={1}\n    , {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pull-left\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"thumbnail-image\",\n          src: (userData === null || userData === void 0 ? void 0 : userData.data) ? Re : Re2,\n          alt: \"user pic\",\n          width: \"40\",\n          height: \"40\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }, this),\n      id: \"basic-nav-dropdown\",\n      alignRight: true,\n      children: state.user.restaurant ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-block btn-sm btn-brown\",\n          children: \"crete your restauran\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          className: \"dropdown-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user,\n            alt: \"\",\n            className: \"dropdown-logo \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 8\n          }, this), \" Profile\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/product/add\",\n          className: \"dropdown-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: product,\n            alt: \"\",\n            className: \"dropdown-logo \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 8\n          }, this), \" Add product\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(NavDropdown // eventKey={1}\n    , {\n      title: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pull-left\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"thumbnail-image rounded-circle\",\n          src: state.user.image ? \"\" + state.user.image : \"https://ui-avatars.com/api/?background=433434&color=f4ad42&name=\" + state.user.name,\n          alt: \"user pic\",\n          width: \"40\",\n          height: \"40\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 6\n      }, this),\n      id: \"basic-nav-dropdown\",\n      alignRight: true // className=\"dropdown-menu-right menu\"\n      ,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        className: \"dropdown-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: user,\n          alt: \"\",\n          className: \"dropdown-logo \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 6\n        }, this), \" Profile\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 5\n      }, this), state.user.type === 2 ? /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/product/add\",\n        className: \"dropdown-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product,\n          alt: \"\",\n          className: \"dropdown-logo \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 7\n        }, this), \" Add product\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 6\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(NavDropdown.Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/#\",\n        onClick: logoutUser,\n        className: \"dropdown-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logout,\n          alt: \"\",\n          className: \"dropdown-logo \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 6\n        }, this), \" logout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s3(User, \"qyyDECjlzyNaQcAukshrvY7KsUk=\", false, function () {\n  return [useQuery];\n});\n\n_c3 = User;\nexport const Cart = () => {\n  _s4();\n\n  const [state, dispatch] = useContext(KeranjangContext);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n      as: Link,\n      to: \"/cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: keranjang,\n        alt: \"\",\n        className: \"thumbnail-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, this), state.carts.length ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge badge-pill badge-danger rounded-pill position-absolute top-0 start-0\",\n        style: {\n          marginLeft: \"-15px\"\n        },\n        children: sum(state.carts)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 6\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s4(Cart, \"R/iqDjZuP7G94n7Hryyh+IyzlJk=\");\n\n_c4 = Cart;\n\nconst sum = data => {\n  var sum = 0;\n  data.forEach(function (obj) {\n    sum += obj.qty;\n  });\n  return sum;\n};\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Menu\");\n$RefreshReg$(_c2, \"LoginRegister\");\n$RefreshReg$(_c3, \"User\");\n$RefreshReg$(_c4, \"Cart\");","map":{"version":3,"sources":["/Users/aris/ABC/DU/code/integrasi/front-end/src/compnents/Menu.js"],"names":["useContext","Link","Nav","NavDropdown","API","useQuery","AuthContext","KeranjangContext","Restauranmenu","Menu","state","dispatch","isLogin","LoginRegister","handleOpenLogin","type","handleOpenRegister","User","data","userData","error","userError","loading","userLoading","refetch","userRefetch","get","console","log","logoutUser","borderRight","Re","Re2","user","restaurant","product","image","name","logout","Cart","keranjang","carts","length","marginLeft","sum","forEach","obj","qty"],"mappings":"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","sourcesContent":["import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Nav, NavDropdown } from \"react-bootstrap\";\nimport { API } from \"../config/api\";\nimport { useQuery } from \"react-query\";\n\nimport { AuthContext } from \"../contexts/authContext\";\nimport { KeranjangContext } from \"../contexts/keranjangContext\";\n\nimport keranjang from \"./assets/img/keranjang.svg\";\nimport user from \"./assets/img/user.svg\";\nimport product from \"./assets/img/product.svg\";\nimport logout from \"./assets/img/logout.svg\";\nimport Restauranmenu from \"./assets/Restauranlogo\";\nimport Re from \"./assets/shop.svg\";\nimport Re2 from \"./assets/shop-2.svg\";\n\nconst Menu = () => {\n\tconst [state, dispatch] = useContext(AuthContext);\n\n\treturn <>{!state.isLogin ? <LoginRegister /> : <User />}</>;\n};\n\nexport default Menu;\n\nexport const LoginRegister = () => {\n\tconst [state, dispatch] = useContext(AuthContext);\n\tconst handleOpenLogin = () => {\n\t\tdispatch({\n\t\t\ttype: \"MODAL_LOGIN_OPEN\",\n\t\t});\n\t};\n\tconst handleOpenRegister = () => {\n\t\tdispatch({\n\t\t\ttype: \"MODAL_REGISTER_OPEN\",\n\t\t});\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<Nav>\n\t\t\t\t<li className=\"nav-link\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-brown btn-nav btn-sm\"\n\t\t\t\t\t\tonClick={handleOpenLogin}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"nav-link\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-brown btn-nav btn-sm\"\n\t\t\t\t\t\tonClick={handleOpenRegister}\n\t\t\t\t\t>\n\t\t\t\t\t\tRegister\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</Nav>\n\t\t</div>\n\t);\n};\n\nexport const User = () => {\n\tconst [state, dispatch] = useContext(AuthContext);\n\tconst {\n\t\tdata: userData,\n\t\terror: userError,\n\t\tloading: userLoading,\n\t\trefetch: userRefetch,\n\t} = useQuery(\"userCache\", async () => {\n\t\treturn API.get(\"/user\");\n\t});\n\n\tconsole.log(\"data\", userData);\n\tconst logoutUser = () => {\n\t\t// console.log(\"lll\", state);\n\t\tdispatch({\n\t\t\ttype: \"LOGOUT\",\n\t\t});\n\t};\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tborderRight: \"1px solid #433434\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Cart />\n\t\t\t</div>\n\t\t\t{/* restaurant÷ */}\n\t\t\t<NavDropdown\n\t\t\t\t// eventKey={1}\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"pull-left\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"thumbnail-image\"\n\t\t\t\t\t\t\tsrc={userData?.data ? Re : Re2}\n\t\t\t\t\t\t\talt=\"user pic\"\n\t\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tid=\"basic-nav-dropdown\"\n\t\t\t\talignRight\n\t\t\t>\n\t\t\t\t{state.user.restaurant ? (\n\t\t\t\t\t<div className=\"px-2\">\n\t\t\t\t\t\t<button className=\"btn btn-block btn-sm btn-brown\">\n\t\t\t\t\t\t\tcrete your restauran\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Link to=\"/profile\" className=\"dropdown-item\">\n\t\t\t\t\t\t\t<img src={user} alt=\"\" className=\"dropdown-logo \" /> Profile\n\t\t\t\t\t\t</Link>\n\n\t\t\t\t\t\t<Link to=\"/product/add\" className=\"dropdown-item\">\n\t\t\t\t\t\t\t<img src={product} alt=\"\" className=\"dropdown-logo \" /> Add\n\t\t\t\t\t\t\tproduct\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</NavDropdown>\n\t\t\t{/* user */}\n\t\t\t<NavDropdown\n\t\t\t\t// eventKey={1}\n\t\t\t\ttitle={\n\t\t\t\t\t<div className=\"pull-left\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"thumbnail-image rounded-circle\"\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\tstate.user.image\n\t\t\t\t\t\t\t\t\t? \"\" + state.user.image\n\t\t\t\t\t\t\t\t\t: \"https://ui-avatars.com/api/?background=433434&color=f4ad42&name=\" +\n\t\t\t\t\t\t\t\t\t  state.user.name\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talt=\"user pic\"\n\t\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tid=\"basic-nav-dropdown\"\n\t\t\t\talignRight\n\t\t\t\t// className=\"dropdown-menu-right menu\"\n\t\t\t>\n\t\t\t\t<Link to=\"/profile\" className=\"dropdown-item\">\n\t\t\t\t\t<img src={user} alt=\"\" className=\"dropdown-logo \" /> Profile\n\t\t\t\t</Link>\n\t\t\t\t{state.user.type === 2 ? (\n\t\t\t\t\t<Link to=\"/product/add\" className=\"dropdown-item\">\n\t\t\t\t\t\t<img src={product} alt=\"\" className=\"dropdown-logo \" /> Add product\n\t\t\t\t\t</Link>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\n\t\t\t\t<NavDropdown.Divider />\n\t\t\t\t<Link to=\"/#\" onClick={logoutUser} className=\"dropdown-item\">\n\t\t\t\t\t<img src={logout} alt=\"\" className=\"dropdown-logo \" /> logout\n\t\t\t\t</Link>\n\t\t\t</NavDropdown>\n\t\t</>\n\t);\n};\n\nexport const Cart = () => {\n\tconst [state, dispatch] = useContext(KeranjangContext);\n\treturn (\n\t\t<>\n\t\t\t<Nav.Link as={Link} to=\"/cart\">\n\t\t\t\t<img src={keranjang} alt=\"\" className=\"thumbnail-image\" />\n\t\t\t\t{state.carts.length ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"badge badge-pill badge-danger rounded-pill position-absolute top-0 start-0\"\n\t\t\t\t\t\tstyle={{ marginLeft: \"-15px\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* {state.carts.length} */}\n\t\t\t\t\t\t{sum(state.carts)}\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t</Nav.Link>\n\t\t</>\n\t);\n};\n\nconst sum = (data) => {\n\tvar sum = 0;\n\tdata.forEach(function (obj) {\n\t\tsum += obj.qty;\n\t});\n\treturn sum;\n};\n"]},"metadata":{},"sourceType":"module"}