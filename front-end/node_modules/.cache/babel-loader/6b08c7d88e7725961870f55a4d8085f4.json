{"ast":null,"code":"var _jsxFileName = \"/Users/aris/ABC/DU/code/integrasi/front-end/src/pages/restaurant/Popular.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\"; // import TableRowMulter from \"../components/TableRowMulter\";\n\nimport { API } from \"../../config/api\";\nimport { useQuery, useMutation } from \"react-query\"; //useQuery = method GET\n//useMutation = method POST, PUT, PATCH & DELETE\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Multer = () => {\n  _s();\n\n  var _productData$data, _productData$data$dat, _productData$data$dat2;\n\n  const [form, setForm] = useState({\n    name: \"\",\n    image: null\n  });\n  const {\n    name,\n    image\n  } = form;\n  const {\n    data: productData,\n    error: productError,\n    loading: productLoading,\n    refetch: productRefetch\n  } = useQuery(\"productsCache\", async () => {\n    return API.get(\"/products\");\n  });\n  const addProduct = useMutation(async () => {\n    const body = new FormData();\n    body.append(\"name\", name);\n    body.append(\"image\", image);\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    };\n    await API.post(\"/product\", body, config);\n    productRefetch();\n    setForm({\n      name: \"\",\n      image: null\n    });\n  });\n\n  const onChange = e => {\n    const tempForm = { ...form\n    };\n    tempForm[e.target.name] = e.target.type === \"file\" ? e.target.files[0] : e.target.value;\n    setForm(tempForm);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          addProduct.mutate();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Product Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: name,\n            onChange: e => onChange(e),\n            name: \"name\",\n            type: \"text\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => onChange(e),\n            name: \"image\",\n            type: \"file\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-block\",\n            disabled: !name || !image ? true : false,\n            children: \"Submit Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3 row\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped table-hovered\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: productLoading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"4\",\n              children: \"Loading Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 8\n          }, this) : productData === null || productData === void 0 ? void 0 : (_productData$data = productData.data) === null || _productData$data === void 0 ? void 0 : (_productData$data$dat = _productData$data.data) === null || _productData$data$dat === void 0 ? void 0 : (_productData$data$dat2 = _productData$data$dat.products) === null || _productData$data$dat2 === void 0 ? void 0 : _productData$data$dat2.map((product, index) =>\n          /*#__PURE__*/\n          // <TableRowMulter\n          // \tproduct={product}\n          // \tindex={index}\n          // \tkey={product.id}\n          // />\n          _jsxDEV(\"td\", {\n            children: \"sasa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Multer, \"rIB8JihqSrz7riYbCflcC2krnUs=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = Multer;\nexport default Multer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Multer\");","map":{"version":3,"sources":["/Users/aris/ABC/DU/code/integrasi/front-end/src/pages/restaurant/Popular.js"],"names":["useState","API","useQuery","useMutation","Multer","form","setForm","name","image","data","productData","error","productError","loading","productLoading","refetch","productRefetch","get","addProduct","body","FormData","append","config","headers","post","onChange","e","tempForm","target","type","files","value","preventDefault","mutate","products","map","product","index"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB,C,CACA;;AACA,SAASC,GAAT,QAAoB,kBAApB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,aAAtC,C,CAEA;AACA;;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAAA;;AACpB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC;AAChCO,IAAAA,IAAI,EAAE,EAD0B;AAEhCC,IAAAA,KAAK,EAAE;AAFyB,GAAD,CAAhC;AAKA,QAAM;AAAED,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBH,IAAxB;AAEA,QAAM;AACLI,IAAAA,IAAI,EAAEC,WADD;AAELC,IAAAA,KAAK,EAAEC,YAFF;AAGLC,IAAAA,OAAO,EAAEC,cAHJ;AAILC,IAAAA,OAAO,EAAEC;AAJJ,MAKFd,QAAQ,CAAC,eAAD,EAAkB,YAAY;AACzC,WAAOD,GAAG,CAACgB,GAAJ,CAAQ,WAAR,CAAP;AACA,GAFW,CALZ;AASA,QAAMC,UAAU,GAAGf,WAAW,CAAC,YAAY;AAC1C,UAAMgB,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBd,IAApB;AACAY,IAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBb,KAArB;AAEA,UAAMc,MAAM,GAAG;AACdC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR;AADK,KAAf;AAMA,UAAMtB,GAAG,CAACuB,IAAJ,CAAS,UAAT,EAAqBL,IAArB,EAA2BG,MAA3B,CAAN;AACAN,IAAAA,cAAc;AACdV,IAAAA,OAAO,CAAC;AACPC,MAAAA,IAAI,EAAE,EADC;AAEPC,MAAAA,KAAK,EAAE;AAFA,KAAD,CAAP;AAIA,GAlB6B,CAA9B;;AAoBA,QAAMiB,QAAQ,GAAIC,CAAD,IAAO;AACvB,UAAMC,QAAQ,GAAG,EAAE,GAAGtB;AAAL,KAAjB;AACAsB,IAAAA,QAAQ,CAACD,CAAC,CAACE,MAAF,CAASrB,IAAV,CAAR,GACCmB,CAAC,CAACE,MAAF,CAASC,IAAT,KAAkB,MAAlB,GAA2BH,CAAC,CAACE,MAAF,CAASE,KAAT,CAAe,CAAf,CAA3B,GAA+CJ,CAAC,CAACE,MAAF,CAASG,KADzD;AAEAzB,IAAAA,OAAO,CAACqB,QAAD,CAAP;AACA,GALD;;AAOA,sBACC;AAAA,4BACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACC;AACC,QAAA,QAAQ,EAAGD,CAAD,IAAO;AAChBA,UAAAA,CAAC,CAACM,cAAF;AACAd,UAAAA,UAAU,CAACe,MAAX;AACA,SAJF;AAAA,gCAMC;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AACC,YAAA,KAAK,EAAE1B,IADR;AAEC,YAAA,QAAQ,EAAGmB,CAAD,IAAOD,QAAQ,CAACC,CAAD,CAF1B;AAGC,YAAA,IAAI,EAAC,MAHN;AAIC,YAAA,IAAI,EAAC,MAJN;AAKC,YAAA,SAAS,EAAC;AALX;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAND,eAgBC;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AACC,YAAA,QAAQ,EAAGA,CAAD,IAAOD,QAAQ,CAACC,CAAD,CAD1B;AAEC,YAAA,IAAI,EAAC,OAFN;AAGC,YAAA,IAAI,EAAC,MAHN;AAIC,YAAA,SAAS,EAAC;AAJX;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBD,eA0BC;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,iCACC;AACC,YAAA,SAAS,EAAC,2BADX;AAEC,YAAA,QAAQ,EAAE,CAACnB,IAAD,IAAS,CAACC,KAAV,GAAkB,IAAlB,GAAyB,KAFpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBA1BD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD,eAsCC;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,6BACC;AAAO,QAAA,SAAS,EAAC,mCAAjB;AAAA,gCACC;AAAA,iCACC;AAAA,oCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eASC;AAAA,oBACEM,cAAc,gBACd;AAAA,mCACC;AAAI,cAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADc,GAKdJ,WALc,aAKdA,WALc,4CAKdA,WAAW,CAAED,IALC,+EAKd,kBAAmBA,IALL,oFAKd,sBAAyByB,QALX,2DAKd,uBAAmCC,GAAnC,CAAuC,CAACC,OAAD,EAAUC,KAAV;AAAA;AACtC;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAND;AANF;AAAA;AAAA;AAAA;AAAA,gBATD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAtCD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAqEA,CAjHD;;GAAMjC,M;UAaDF,Q,EAIeC,W;;;KAjBdC,M;AAmHN,eAAeA,MAAf","sourcesContent":["import { useState } from \"react\";\n// import TableRowMulter from \"../components/TableRowMulter\";\nimport { API } from \"../../config/api\";\nimport { useQuery, useMutation } from \"react-query\";\n\n//useQuery = method GET\n//useMutation = method POST, PUT, PATCH & DELETE\n\nconst Multer = () => {\n\tconst [form, setForm] = useState({\n\t\tname: \"\",\n\t\timage: null,\n\t});\n\n\tconst { name, image } = form;\n\n\tconst {\n\t\tdata: productData,\n\t\terror: productError,\n\t\tloading: productLoading,\n\t\trefetch: productRefetch,\n\t} = useQuery(\"productsCache\", async () => {\n\t\treturn API.get(\"/products\");\n\t});\n\n\tconst addProduct = useMutation(async () => {\n\t\tconst body = new FormData();\n\n\t\tbody.append(\"name\", name);\n\t\tbody.append(\"image\", image);\n\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t\t},\n\t\t};\n\n\t\tawait API.post(\"/product\", body, config);\n\t\tproductRefetch();\n\t\tsetForm({\n\t\t\tname: \"\",\n\t\t\timage: null,\n\t\t});\n\t});\n\n\tconst onChange = (e) => {\n\t\tconst tempForm = { ...form };\n\t\ttempForm[e.target.name] =\n\t\t\te.target.type === \"file\" ? e.target.files[0] : e.target.value;\n\t\tsetForm(tempForm);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mt-2 mb-3\">\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\taddProduct.mutate();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Product Name</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(e) => onChange(e)}\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tonChange={(e) => onChange(e)}\n\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-primary btn-block\"\n\t\t\t\t\t\t\tdisabled={!name || !image ? true : false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSubmit Product\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div className=\"mt-3 row\">\n\t\t\t\t<table className=\"table table-striped table-hovered\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>No</th>\n\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t<th>Image</th>\n\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{productLoading ? (\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colSpan=\"4\">Loading Data</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tproductData?.data?.data?.products?.map((product, index) => (\n\t\t\t\t\t\t\t\t// <TableRowMulter\n\t\t\t\t\t\t\t\t// \tproduct={product}\n\t\t\t\t\t\t\t\t// \tindex={index}\n\t\t\t\t\t\t\t\t// \tkey={product.id}\n\t\t\t\t\t\t\t\t// />\n\t\t\t\t\t\t\t\t<td>sasa</td>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Multer;\n"]},"metadata":{},"sourceType":"module"}