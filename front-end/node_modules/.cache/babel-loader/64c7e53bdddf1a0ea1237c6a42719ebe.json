{"ast":null,"code":"var _jsxFileName = \"/Users/aris/ABC/DU/code/integrasi/front-end/src/Router.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Switch, Route, useLocation, Redirect } from \"react-router-dom\";\nimport { KeranjangContextProvider } from \"./contexts/keranjangContext\";\nimport { AuthContext } from \"./contexts/authContext\";\nimport Navigation from \"./compnents/navbar/Nav\";\nimport Test from \"./pages/Test\";\nimport Home from \"./pages/home/\";\nimport Product from \"./pages/Product\";\nimport Profile from \"./pages/Profile\";\nimport Cart from \"./pages/Cart\";\nimport EditProfile from \"./pages/EditProfile\";\nimport AddProduct from \"./pages/AddProduct\";\nimport Transaction from \"./pages/Transaction\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport PrivateRoute from \"./compnents/route/PrivateRoute\";\nimport { API, setAuthToken } from \"./config/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction useQuery() {\n  _s();\n\n  return new URLSearchParams(useLocation().search);\n} // init accessToken\n\n\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\n\nif (localStorage.token) {\n  setAuthToken(localStorage.token);\n}\n\nexport default function MasterRoute() {\n  _s2();\n\n  let query = useQuery();\n  const [state, dispatch] = useContext(AuthContext);\n\n  const checkUser = async () => {\n    try {\n      const response = await API.get(\"/check-auth\");\n\n      if (response.status === 401) {\n        alert(\"Hello! I am an alert box!\"); // console.log(\"error\");\n\n        return dispatch({\n          type: \"AUTH_ERROR\"\n        });\n      }\n\n      let payload = response.data.data.user;\n      payload.token = localStorage.token;\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload\n      });\n    } catch (error) {\n      console.log(error);\n      dispatch({\n        type: \"AUTH_ERROR\"\n      });\n    }\n  };\n\n  useEffect(() => {\n    checkUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(KeranjangContextProvider, {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/profile\",\n        component: Profile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/profile\",\n        component: Profile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/Cart\",\n        component: Cart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/product/add\",\n        component: AddProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/profile/edit\",\n        component: EditProfile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/transaction\",\n        component: Transaction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/restaurant/:id\",\n        component: Product\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        exact: true,\n        path: \"/restaurant\",\n        component: Product\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/test\",\n        children: /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Child, {\n      popUP: query.get(\"popup\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 3\n  }, this);\n}\n\n_s2(MasterRoute, \"F5GUgd2AaBr9eV6VlKvcgPzjWsI=\", false, function () {\n  return [useQuery];\n});\n\n_c = MasterRoute;\n\nfunction Child({\n  popUP\n}) {\n  _s3();\n\n  const [show, setShow] = useState(true); // const handleClose = () => setShow(false);\n  // console.log(\"sow\", show);\n\n  const close = () => {\n    setShow(false);\n  };\n\n  const open = () => {\n    setShow(false);\n  };\n\n  useEffect(() => {\n    open();\n  }, [open]); //fetching data dari API\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: popUP === \"login\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Login, {\n        show: show,\n        onHide: close\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n} // function Child({ popUP }) {\n// \tconst [state, dispatch] = useContext(AuthContext);\n// \tconst handleOpenLogin = () => {\n// \t\tdispatch({\n// \t\t\ttype: \"MODAL_LOGIN_OPEN\",\n// \t\t});\n// \t};\n// \tuseEffect(() => {}, [handleOpenLogin]); //fetching data dari API\n// \treturn (\n// \t\t<>\n// \t\t\t{popUP === \"login\" && (\n// \t\t\t\t<>\n// \t\t\t\t\t<Login show={show} onHide={close} />\n// \t\t\t\t\t{show === false ? <Redirect to=\"/\" /> : <></>}\n// \t\t\t\t</>\n// \t\t\t)}\n// \t\t</>\n// \t);\n// }\n\n\n_s3(Child, \"7rrxj0wE5iz58YydTDN/pg4Izes=\");\n\n_c2 = Child;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MasterRoute\");\n$RefreshReg$(_c2, \"Child\");","map":{"version":3,"sources":["/Users/aris/ABC/DU/code/integrasi/front-end/src/Router.js"],"names":["React","useState","useEffect","useContext","Switch","Route","useLocation","Redirect","KeranjangContextProvider","AuthContext","Navigation","Test","Home","Product","Profile","Cart","EditProfile","AddProduct","Transaction","Login","Register","PrivateRoute","API","setAuthToken","useQuery","URLSearchParams","search","localStorage","token","MasterRoute","query","state","dispatch","checkUser","response","get","status","alert","type","payload","data","user","error","console","log","Child","popUP","show","setShow","close","open"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Switch, Route, useLocation, Redirect } from \"react-router-dom\";\n\nimport { KeranjangContextProvider } from \"./contexts/keranjangContext\";\nimport { AuthContext } from \"./contexts/authContext\";\n\nimport Navigation from \"./compnents/navbar/Nav\";\n\nimport Test from \"./pages/Test\";\nimport Home from \"./pages/home/\";\nimport Product from \"./pages/Product\";\nimport Profile from \"./pages/Profile\";\nimport Cart from \"./pages/Cart\";\nimport EditProfile from \"./pages/EditProfile\";\nimport AddProduct from \"./pages/AddProduct\";\nimport Transaction from \"./pages/Transaction\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\n\nimport PrivateRoute from \"./compnents/route/PrivateRoute\";\nimport { API, setAuthToken } from \"./config/api\";\n\nfunction useQuery() {\n\treturn new URLSearchParams(useLocation().search);\n}\n\n// init accessToken\nif (localStorage.token) {\n\tsetAuthToken(localStorage.token);\n}\n\nexport default function MasterRoute() {\n\tlet query = useQuery();\n\tconst [state, dispatch] = useContext(AuthContext);\n\tconst checkUser = async () => {\n\t\ttry {\n\t\t\tconst response = await API.get(\"/check-auth\");\n\n\t\t\tif (response.status === 401) {\n\t\t\t\talert(\"Hello! I am an alert box!\");\n\t\t\t\t// console.log(\"error\");\n\t\t\t\treturn dispatch({\n\t\t\t\t\ttype: \"AUTH_ERROR\",\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet payload = response.data.data.user;\n\t\t\tpayload.token = localStorage.token;\n\n\t\t\tdispatch({\n\t\t\t\ttype: \"LOGIN_SUCCESS\",\n\t\t\t\tpayload,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tdispatch({\n\t\t\t\ttype: \"AUTH_ERROR\",\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tcheckUser();\n\t}, []);\n\n\treturn (\n\t\t<KeranjangContextProvider>\n\t\t\t<Navigation />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t\t<PrivateRoute exact path=\"/profile\" component={Profile} />\n\t\t\t\t<PrivateRoute exact path=\"/profile\" component={Profile} />\n\t\t\t\t<PrivateRoute exact path=\"/Cart\" component={Cart} />\n\t\t\t\t<PrivateRoute exact path=\"/product/add\" component={AddProduct} />\n\t\t\t\t<PrivateRoute exact path=\"/profile/edit\" component={EditProfile} />\n\t\t\t\t<PrivateRoute exact path=\"/transaction\" component={Transaction} />\n\t\t\t\t<PrivateRoute exact path=\"/restaurant/:id\" component={Product} />\n\t\t\t\t<PrivateRoute exact path=\"/restaurant\" component={Product} />\n\t\t\t\t<Route exact path=\"/test\">\n\t\t\t\t\t<Test />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t\t<Register />\n\t\t\t<Login />\n\t\t\t<Child popUP={query.get(\"popup\")} />\n\t\t</KeranjangContextProvider>\n\t);\n}\n\nfunction Child({ popUP }) {\n\tconst [show, setShow] = useState(true);\n\t// const handleClose = () => setShow(false);\n\t// console.log(\"sow\", show);\n\tconst close = () => {\n\t\tsetShow(false);\n\t};\n\tconst open = () => {\n\t\tsetShow(false);\n\t};\n\tuseEffect(() => {\n\t\topen();\n\t}, [open]); //fetching data dari API\n\n\treturn (\n\t\t<>\n\t\t\t{popUP === \"login\" && (\n\t\t\t\t<>\n\t\t\t\t\t<Login show={show} onHide={close} />\n\n\t\t\t\t\t{/* {show === false ? <Redirect to=\"/\" /> : <></>} */}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\n// function Child({ popUP }) {\n// \tconst [state, dispatch] = useContext(AuthContext);\n// \tconst handleOpenLogin = () => {\n// \t\tdispatch({\n// \t\t\ttype: \"MODAL_LOGIN_OPEN\",\n// \t\t});\n// \t};\n// \tuseEffect(() => {}, [handleOpenLogin]); //fetching data dari API\n\n// \treturn (\n// \t\t<>\n// \t\t\t{popUP === \"login\" && (\n// \t\t\t\t<>\n// \t\t\t\t\t<Login show={show} onHide={close} />\n\n// \t\t\t\t\t{show === false ? <Redirect to=\"/\" /> : <></>}\n// \t\t\t\t</>\n// \t\t\t)}\n// \t\t</>\n// \t);\n// }\n"]},"metadata":{},"sourceType":"module"}